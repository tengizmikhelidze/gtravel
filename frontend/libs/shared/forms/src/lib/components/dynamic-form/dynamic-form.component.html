<form *ngIf='form' [formGroup]='form'>
  <div *ngFor='let control of controls'
       [class]='control.key + " control"'>
    <ng-container *ngIf='control.visible'>
      <ng-container *ngIf='control.isGroup; else controlView'>
        <form-dynamic-group></form-dynamic-group>
      </ng-container>
      <ng-template #controlView>
        <div class='custom-input'>
          <form-dynamic-control [control]='control'
                                (valueChanged)='valueChanges.emit($event)'>
          </form-dynamic-control>
        </div>
      </ng-template>
    </ng-container>
  </div>

  <ng-content></ng-content>

  <div *ngIf='!hideControls' style='margin-top: 10px'>

    <p-button
      label="შენახვა"
      (click)='submit()'
    ></p-button>

    <p-button
      label="გაუქმება"
      (click)='cancel()'
    ></p-button>

  </div>
</form>
